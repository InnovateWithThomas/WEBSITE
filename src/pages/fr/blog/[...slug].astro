---
import { getEntry} from 'astro:content';
import BaseLayout from '../../../layouts/BaseLayout.astro';
import Navbar from '../../../components/Navbar.astro';
import Footer from '../../../components/Footer.astro';

const { slug } = Astro.params;

// Charger le post FR depuis la collection 'blog'
const post = await getEntry('blog', slug);

if (!post) {
  throw new Error(`Post not found: ${slug}`);
}
---
<BaseLayout title={post.data.title} description={post.data.description} lang="fr">
  <slot name="navbar">
    <Navbar lang="fr" />
  </slot>

  <h1>{post.data.title}</h1>
  <p>{post.data.date}</p>
  <article>
    {post.body}
  </article>

  <slot name="footer">
    <Footer lang="fr" />
  </slot>
</BaseLayout>
